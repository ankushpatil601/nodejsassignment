pipeline{

agent any 

tools {nodejs "node"}

stages{
       stage("Cloning Repository"){
              steps{
                     cleanWs()
                  git 'https://github.com/ankushpatil601/nodejsassignment.git'
              }
      }
      stage("Install Dependencies"){
            steps{
              sh 'npm install'
            }
      }
      stage("Testing"){
            steps{
              sh 'npm test'
              
            }
        }      
       stage("creating build"){
              steps{
                 sh 'tar -cvzf nodejsapp-$BUILD_NUMBER.tar.gz .'
              }
              
        }
      
}

}
